@import "tailwindcss";

@layer base {
  * {
    box-sizing: border-box;
  }
  html, body, #root {
    height: 100%;
    margin: 0;
    padding: 0;
  }
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* ─── Theme tokens ─── */
  :root,
  [data-theme="dark"] {
    --bg-base: #0A0A0F;
    --bg-sidebar: #0D0D14;
    --bg-footer: #08080D;
    --bg-surface: rgba(255,255,255,0.03);
    --bg-surface-hover: rgba(255,255,255,0.05);
    --bg-surface-active: rgba(255,255,255,0.08);
    --bg-input: rgba(255,255,255,0.05);
    --border-default: rgba(255,255,255,0.05);
    --border-strong: rgba(255,255,255,0.10);
    --text-primary: #ffffff;
    --text-secondary: #cbd5e1;
    --text-tertiary: #94a3b8;
    --text-muted: #64748b;
    --text-faint: #475569;
    --nav-bg: rgba(10,10,15,0.80);
    color-scheme: dark;
  }

  [data-theme="light"] {
    --bg-base: #f8fafc;
    --bg-sidebar: #ffffff;
    --bg-footer: #f1f5f9;
    --bg-surface: rgba(0,0,0,0.02);
    --bg-surface-hover: rgba(0,0,0,0.04);
    --bg-surface-active: rgba(0,0,0,0.06);
    --bg-input: rgba(0,0,0,0.04);
    --border-default: rgba(0,0,0,0.08);
    --border-strong: rgba(0,0,0,0.12);
    --text-primary: #0f172a;
    --text-secondary: #334155;
    --text-tertiary: #475569;
    --text-muted: #64748b;
    --text-faint: #94a3b8;
    --nav-bg: rgba(255,255,255,0.85);
    color-scheme: light;
  }

  body {
    background-color: var(--bg-base);
    color: var(--text-primary);
    transition: background-color 0.2s, color 0.2s;
  }
}

/* ─── Light mode overrides for hardcoded dark patterns ─── */
[data-theme="light"] {
  /* Base backgrounds */
  .bg-\[\#0A0A0F\] { background-color: var(--bg-base) !important; }
  .bg-\[\#0D0D14\] { background-color: var(--bg-sidebar) !important; }
  .bg-\[\#08080D\] { background-color: var(--bg-footer) !important; }
  .bg-\[\#14141F\] { background-color: #ffffff !important; }

  /* Surfaces */
  .bg-white\/\[0\.03\] { background-color: var(--bg-surface) !important; }
  .bg-white\/\[0\.02\] { background-color: var(--bg-surface) !important; }
  .bg-white\/\[0\.05\] { background-color: var(--bg-surface-hover) !important; }
  .bg-white\/5 { background-color: rgba(0,0,0,0.04) !important; }
  .bg-white\/10 { background-color: rgba(0,0,0,0.06) !important; }

  /* Hover surfaces */
  .hover\:bg-white\/5:hover { background-color: rgba(0,0,0,0.04) !important; }
  .hover\:bg-white\/10:hover { background-color: rgba(0,0,0,0.06) !important; }
  .hover\:bg-white\/\[0\.02\]:hover { background-color: rgba(0,0,0,0.03) !important; }
  .hover\:bg-white\/\[0\.06\]:hover { background-color: rgba(0,0,0,0.06) !important; }
  .hover\:bg-white\/\[0\.10\]:hover { background-color: rgba(0,0,0,0.08) !important; }

  /* Borders */
  .border-white\/5 { border-color: var(--border-default) !important; }
  .border-white\/10 { border-color: var(--border-strong) !important; }
  .hover\:border-white\/10:hover { border-color: var(--border-strong) !important; }

  /* Text: white → dark */
  .text-white { color: var(--text-primary) !important; }
  .text-slate-200 { color: var(--text-primary) !important; }
  .text-slate-300 { color: var(--text-secondary) !important; }
  .text-slate-400 { color: var(--text-tertiary) !important; }
  .text-slate-500 { color: var(--text-muted) !important; }
  .text-slate-600 { color: var(--text-faint) !important; }
  .hover\:text-white:hover { color: var(--text-primary) !important; }
  .hover\:text-slate-300:hover { color: var(--text-secondary) !important; }

  /* Placeholder text */
  .placeholder-slate-500::placeholder { color: var(--text-muted) !important; }

  /* Inputs */
  .bg-white\/5 input,
  input.bg-white\/5 { background-color: var(--bg-input) !important; }

  /* Nav bar */
  .bg-\[\#0A0A0F\]\/80 { background-color: var(--nav-bg) !important; }
  .bg-\[\#0D0D14\]\/95 { background-color: rgba(255,255,255,0.95) !important; }

  /* Black backgrounds in dark mode → white in light */
  .bg-black\/20 { background-color: rgba(0,0,0,0.04) !important; }
  .bg-black\/30 { background-color: rgba(0,0,0,0.05) !important; }

  /* Accent text — too pale on light backgrounds */
  .text-indigo-300 { color: #4338ca !important; }
  .text-indigo-400 { color: #4f46e5 !important; }
  .text-indigo-400\/70 { color: rgba(79,70,229,0.7) !important; }
  .text-emerald-300 { color: #047857 !important; }
  .text-emerald-400 { color: #059669 !important; }
  .text-emerald-400\/70 { color: rgba(5,150,105,0.7) !important; }
  .text-amber-300 { color: #b45309 !important; }
  .text-amber-400 { color: #d97706 !important; }
  .text-amber-400\/60 { color: rgba(217,119,6,0.6) !important; }
  .text-red-400 { color: #dc2626 !important; }

  /* Accent backgrounds — slightly stronger */
  .bg-indigo-600\/10 { background-color: rgba(79,70,229,0.08) !important; }
  .bg-indigo-600\/20 { background-color: rgba(79,70,229,0.12) !important; }
  .bg-emerald-500\/10 { background-color: rgba(16,185,129,0.08) !important; }
  .bg-emerald-500\/20 { background-color: rgba(16,185,129,0.12) !important; }
  .bg-amber-500\/10 { background-color: rgba(245,158,11,0.08) !important; }
  .bg-amber-500\/20 { background-color: rgba(245,158,11,0.12) !important; }
  .bg-red-500\/5 { background-color: rgba(239,68,68,0.05) !important; }
  .bg-red-500\/10 { background-color: rgba(239,68,68,0.08) !important; }

  /* Accent borders */
  .border-indigo-500\/15 { border-color: rgba(99,102,241,0.2) !important; }
  .border-indigo-500\/20 { border-color: rgba(99,102,241,0.25) !important; }
  .border-indigo-500\/30 { border-color: rgba(99,102,241,0.3) !important; }
  .border-emerald-500\/15 { border-color: rgba(16,185,129,0.2) !important; }
  .border-amber-500\/10 { border-color: rgba(245,158,11,0.15) !important; }
  .border-amber-500\/15 { border-color: rgba(245,158,11,0.2) !important; }

  /* Gradient text clips need special handling */
  .from-white { --tw-gradient-from: var(--text-primary) !important; }
  .via-white { --tw-gradient-via: var(--text-primary) !important; }
  .to-slate-400 { --tw-gradient-to: var(--text-tertiary) !important; }

  /* Shadows get lighter */
  .shadow-xl { --tw-shadow-color: rgba(0,0,0,0.08) !important; }
  .shadow-lg { --tw-shadow-color: rgba(0,0,0,0.06) !important; }

  /* Wallet adapter overrides */
  .wallet-adapter-button {
    background-color: rgba(0,0,0,0.05) !important;
    color: var(--text-primary) !important;
  }
}

.safe-top {
  padding-top: env(safe-area-inset-top);
}
.safe-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fadeIn {
  animation: fadeIn 0.3s ease-out forwards;
}
